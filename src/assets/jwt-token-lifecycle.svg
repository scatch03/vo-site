<svg width="1200" height="620" viewBox="0 0 1200 620" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1200" height="620" rx="24" fill="#F4F6FA"/>
  <text x="64" y="74" fill="#1F2733" font-family="Arial, sans-serif" font-size="34" font-weight="700">Access and Refresh Token Lifecycle</text>
  <text x="64" y="112" fill="#4F5D75" font-family="Arial, sans-serif" font-size="22">Short-lived access token + longer-lived refresh token is a common production pattern.</text>

  <rect x="86" y="170" width="220" height="82" rx="12" fill="#E7F1FD" stroke="#B5CFF0"/>
  <text x="118" y="216" fill="#294D78" font-family="Arial, sans-serif" font-size="24" font-weight="700">Login success</text>

  <rect x="348" y="170" width="220" height="82" rx="12" fill="#EAF8E7" stroke="#A9D7A7"/>
  <text x="380" y="206" fill="#235923" font-family="Arial, sans-serif" font-size="22">Issue access token</text>
  <text x="380" y="232" fill="#336C33" font-family="Arial, sans-serif" font-size="18">Expires in minutes</text>

  <rect x="610" y="170" width="220" height="82" rx="12" fill="#FCEFD9" stroke="#E9CA90"/>
  <text x="642" y="206" fill="#6D5200" font-family="Arial, sans-serif" font-size="22">Issue refresh token</text>
  <text x="642" y="232" fill="#7D6522" font-family="Arial, sans-serif" font-size="18">Expires in days</text>

  <rect x="872" y="170" width="242" height="82" rx="12" fill="#EFEAFC" stroke="#CABCF0"/>
  <text x="904" y="202" fill="#4D3B80" font-family="Arial, sans-serif" font-size="21">Store securely</text>
  <text x="904" y="224" fill="#5C4C8D" font-family="Arial, sans-serif" font-size="16">HttpOnly cookie</text>
  <text x="904" y="244" fill="#5C4C8D" font-family="Arial, sans-serif" font-size="16">preferred storage</text>

  <line x1="306" y1="211" x2="348" y2="211" stroke="#9AA8BE" stroke-width="3" stroke-linecap="round"/>
  <polygon points="348,211 336,204 336,218" fill="#9AA8BE"/>
  <line x1="568" y1="211" x2="610" y2="211" stroke="#9AA8BE" stroke-width="3" stroke-linecap="round"/>
  <polygon points="610,211 598,204 598,218" fill="#9AA8BE"/>
  <line x1="830" y1="211" x2="872" y2="211" stroke="#9AA8BE" stroke-width="3" stroke-linecap="round"/>
  <polygon points="872,211 860,204 860,218" fill="#9AA8BE"/>

  <rect x="86" y="304" width="1028" height="236" rx="14" fill="#FFFFFF" stroke="#D5DBE7"/>
  <text x="120" y="348" fill="#2A3B57" font-family="Arial, sans-serif" font-size="26" font-weight="700">Refresh flow when access token expires</text>

  <rect x="120" y="378" width="286" height="64" rx="10" fill="#EDF4FF" stroke="#BDD1EE"/>
  <text x="142" y="418" fill="#2B4F7D" font-family="Arial, sans-serif" font-size="20">Request returns 401</text>

  <rect x="456" y="378" width="286" height="64" rx="10" fill="#EDF4FF" stroke="#BDD1EE"/>
  <text x="478" y="418" fill="#2B4F7D" font-family="Arial, sans-serif" font-size="20">POST /api/auth/refresh</text>

  <rect x="792" y="378" width="286" height="64" rx="10" fill="#EDF4FF" stroke="#BDD1EE"/>
  <text x="814" y="406" fill="#2B4F7D" font-family="Arial, sans-serif" font-size="18">Server issues new</text>
  <text x="814" y="426" fill="#2B4F7D" font-family="Arial, sans-serif" font-size="18">access token</text>

  <line x1="406" y1="410" x2="456" y2="410" stroke="#9AA8BE" stroke-width="3" stroke-linecap="round"/>
  <polygon points="456,410 442,402 442,418" fill="#9AA8BE"/>
  <line x1="742" y1="410" x2="792" y2="410" stroke="#9AA8BE" stroke-width="3" stroke-linecap="round"/>
  <polygon points="792,410 778,402 778,418" fill="#9AA8BE"/>

  <text x="120" y="484" fill="#5E6E86" font-family="Arial, sans-serif" font-size="18">Rotate refresh tokens, revoke on logout, and keep access tokens short-lived.</text>
  <text x="120" y="506" fill="#5E6E86" font-family="Arial, sans-serif" font-size="18">This limits exposure if an access token is leaked.</text>
</svg>
